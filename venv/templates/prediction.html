<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>天气预测</title>
<link  rel="stylesheet"  href="./static/font-awesome-4.7.0/css/font-awesome.css">

</head>
<style>
#header {
    background-color:black;
    color:white;
    text-align:center;
    padding:5px;
}
#left {
    line-height:30px;
    background-color:#eeeeee;
    height:570px;
    width:100px;
    float:left;
    padding:5px;
}
#body {
       margin-top: 20px;
    background-repeat: no-repeat;
    background-size: 100% auto;
    width:350px;
    float:left;
    padding:10px;
    text-align: center;
}
.weather {
    height:100px;
    width:950px;
    background: #eeeeee;
    margin-top: 20px;

}
#bottom {
    background-color:black;
    color:white;
    clear:both;
    text-align:center;
   padding:5px;
}
</style>
</head>
<body>

<div id="header">
<h1>天气预测</h1>
</div>

<div id="left">
周<br>
月<br>
年<br><br><br><br>
<a href="{{ url_for('settinguser',user_name=userID) }}"><button type="button">角色设置</button></a><br>
{% if permission_list['master'] %}
    <a href="{{ url_for('settingadmin',user_name=userID) }}"><button type="button">管理员功能</button></a><br>
{% endif %}
<a href="{{ url_for('logout') }}"><button type="button">退出登录</button></a><br>
</div>
<div id="body">
{% if permission_list['search'] %}
    <form method="post">
        时间：<input type="date" value="2020-07-08" name="date">
        <button type="submit">查询</button>
    </form>
{% endif %}
<div class="weather">
<body>
<iframe scrolling="no" src="https://tianqiapi.com/api.php?style=tt&skin=pitaya" frameborder="0" width="590" height="98" allowtransparency="true"></iframe>
</body>
               </div>
{% if permission_list['forecast'] %}
    <h2>7日天气</h2>
    <!DOCTYPE html>
    <html>
        <head>
            <meta charset="utf-8">
            <title>ECharts</title>
            <!-- 引入 echarts.js -->
            <script src="https://cdn.bootcss.com/echarts/4.2.1-rc1/echarts.min.js"></script>
        </head>
        <body>
            <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
            <div id="main" style="width: 600px;height:400px;"></div>
            <script type="text/javascript">
                // 基于准备好的dom，初始化echarts实例
                var myChart = echarts.init(document.getElementById('main'));
                var data_min = {{data_min}};
                var data_max = {{data_max}};
                // 指定图表的配置项和数据
                var option = {
                    title: {
                        text: '温度'
                    },
                    tooltip: {},
                    legend: {
                        data:['最高温','最低温']
                    },
                    xAxis: {
                        data: ["1","2","3","4","5","6","7"]
                    },
                    yAxis: [
                        {
                            type: 'value',
                            name: '最高温',

                            axisLabel: {
                                formatter: '{value}'
                            },
                            nameLocation:'center',
                            nameGap:65
                        },
                        {
                            type: 'value',
                            name: '最低温',

                            // interval: 15000,
                            axisLabel: {
                                formatter: '{value}'
                            },
                            nameLocation:'center',
                            nameGap:65,
                            nameRotate:-90
                        }
                    ],
                    series: [{
                        name: '最高温',
                        type: 'bar',
                        yAxisIndex: 0,

                        data: data_max
                    },
                    {
                        name: '最低温',
                        type: 'bar',
                        yAxisIndex: 1,
                        data: data_min
                    }]

                };

                // 使用刚指定的配置项和数据显示图表。
                myChart.setOption(option);
            </script>
        </body>
    </html>
{% endif %}
</div>
<div id="bottom">
copyright
</div>
</body>
</html>
